2005-09-03  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/ui/figure/TimecodeRuler.java (paintFigure):
	Draw time values.
	* src/org/medi8/internal/core/model/Time.java (toString): New method.
	(toString): Use it.

2005-09-03  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/ui/figure/TimecodeRuler.java (TimecodeRuler):
	Set preferred height.
	* src/org/medi8/internal/core/ui/Medi8Layout.java: Fixed imports.

2005-09-03  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/ui/Medi8Layout.java (calculatePreferredSize):
	Always add vertical gaps.
	(layout): Likewise.

2005-08-29  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/core/file/MLTClipFactory.java (createThumbnail): Changed
	default background color.
	* src/org/medi8/internal/core/ui/Medi8Layout.java (calculatePreferredSize):
	Leave boundary above and below figures.
	* src/org/medi8/internal/core/ui/MouseHandler.java (mousePressed): 
	Duplicate the rectangle.
	* src/org/medi8/internal/core/ui/figure/SequenceFigure.java (setSelection):
	Duplicate the rectangle.

	* src/org/medi8/internal/core/ui/figure/TrackFigure.java (layout): Removed
	unused variable.
	* src/org/medi8/internal/core/model/FileClip.java (getFigure): Use a
	rounded	rectangle.
	* src/org/medi8/internal/core/ui/figure/VideoTrackFigure.java
	(computeChildren): Removed unused variable.

2005-08-28  Tom Tromey  <tromey@redhat.com>

	* .settings/org.eclipse.jdt.core.prefs: New file.
	* .settings/org.eclipse.jdt.ui.prefs: New file.

2005-08-28  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/model/Sequence.java (updateActive): Removed
	unused variable.

2005-07-24  Tom Tromey  <tromey@redhat.com>

	* plugin.xml (id, name): Added attributes to
	org.eclipse.core.resources.natures extension point.

2005-01-05  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/model/VideoTrack.java (addClip): Removed
	debugging print.

2005-01-04  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/model/VideoTrack.java (addClipNoEvents): 
	Fixed boundary conditions.
	* src/org/medi8/internal/core/ui/figure/VideoTrackFigure.java: Organized
	imports.

2005-01-03  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/core/file/Medi8XMLParser.java (endElement): Match "select",
	not "selection".
	(startElement): Likewise.
	* src/org/medi8/internal/core/model/DeadClip.java (toString): New method.

	* src/org/medi8/internal/core/Medi8Editor.java (calculateEnabled): Check
	for non-null sequenceFigure.
	* src/org/medi8/internal/core/model/SelectionClip.java (getFigure): New method.
	* src/org/medi8/internal/core/model/FileClip.java (createThumbnail): New method,
	from VideoTrackFigure.
	(getFigure): New method.
	* src/org/medi8/internal/core/ui/figure/VideoTrackFigure.java (ASPECT):
	Now public.
	(createThumbnail): Removed.
	(createBox): Removed.
	(computeChildren): Use Clip.getFigure.
	* src/org/medi8/internal/core/model/EmptyClip.java (getFigure): New method.
	* src/org/medi8/internal/core/model/DeadClip.java (getFigure): New method.
	* src/org/medi8/internal/core/model/Clip.java (getFigure): New method.

	* src/org/medi8/internal/core/model/Sequence.java (updateOneEdge): Documented.
	(createSimpleTransitionCommand): Only introduce splits when needed.
	(updateActive): Correctly find other active clip.

2005-01-02  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/model/Sequence.java (updateActive): Search for other
	track.
	(createSimpleTransitionCommand): Updated comments.

2005-01-02  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/ui/figure/ConflictMarkerFigure.java (mouseDoubleClicked):
	Use createSimpleTransitionCommand.
	* src/org/medi8/internal/core/model/Sequence.java (createSimpleTransitionCommand):
	New method.

2004-12-29  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/ui/figure/ConflictMarkerFigure.java
	(mouseDoubleClicked): Kill correct parts of tracks.

2004-12-28  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/ui/figure/ConflictMarkerFigure.java
	(mouseDoubleClicked): Create kill commands.
	* src/org/medi8/internal/core/model/KillBeforeCommand.java: New file.
	* src/org/medi8/internal/core/model/KillAfterCommand.java: New file.
	* src/org/medi8/internal/core/model/VideoTrack.java (findClipBefore): New
	method.
	(findClipAfter): Likewise.

2004-12-28  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/model/VideoTrack.java (coalesce): Wrote.

2004-12-28  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/model/KillCommand.java: New file.
	* src/org/medi8/internal/core/model/VideoTrack.java (replaceClip): New 
	method.
	* src/org/medi8/internal/core/model/events/ReplaceEvent.java: New file.

2004-12-27  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/model/VideoTrack.java (split): New method.
	(coalesce): Likewise.
	(findClip): Likewise.
	* src/org/medi8/internal/core/model/SplitCommand.java: New file.
	* src/org/medi8/internal/core/ui/figure/ConflictMarkerFigure.java: Cleaned
	up imports.
	(mouseDoubleClicked): Create and execute split commands.
	(ConflictMarkerFigure): Changed arguments.
	* src/org/medi8/internal/core/ui/figure/SequenceFigure.java (computeChildren):
	Updated.

2004-11-23  Anthony Green  <green@spindazzle.org>

	* plugin.xml: Fix reference to AudioBusView.

2004-11-21  Anthony Green  <green@spindazzle.org>

	* src/org/medi8/internal/core/ui/figure/VideoTrackFigure.java: Clean
	up imports.
	* src/org/medi8/internal/core/ui/widget/KnobWidget.java: Ditto.
	* src/org/medi8/internal/core/ui/figure/TimecodeRuler.java: Ditto.
	* src/org/medi8/internal/core/ui/figure/ConflictMarkerFigure.java: Ditto.
	* src/org/medi8/internal/core/ui/Medi8Layout.java: Ditto.
	* src/org/medi8/core/preferences/PrimaryPreferencePage.java: Ditto.
	* src/org/medi8/core/Medi8ProjectNature.java: Ditto.
	* src/org/medi8/internal/core/Medi8Editor.java: Ditto.	
	* src/org/medi8/core/file/AudioServer.java: Ditto.

2004-11-21  Anthony Green  <green@spindazzle.org>

	* src/org/medi8/internal/core/ui/figure/VideoTrackFigure.java: New
	file.
	* src/org/medi8/internal/core/ui/figure/AutomationTrackFigure.java: 
	New file.
	* src/org/medi8/internal/core/model/audio/AudioEffect.java (AudioEffect):
	Create controls vector.
	* src/org/medi8/core/file/XMLGeneratingVisitor.java: Refactor 
	Track and VideoTrack usage.  Add AutomationTrack.
	* src/org/medi8/internal/core/ui/figure/TrackFigure.java: Ditto.
	* src/org/medi8/internal/core/ui/figure/SequenceFigure.java: Ditto.
	* src/org/medi8/internal/core/model/Visitor.java: Ditto.
	* src/org/medi8/internal/core/model/VideoTrack.java: Ditto.
	* src/org/medi8/internal/core/model/Track.java: Ditto.
	* src/org/medi8/internal/core/model/Sequence.java: Ditto.
	* src/org/medi8/internal/core/Medi8Editor.java: Ditto.
	* src/org/medi8/core/file/Medi8XMLParser.java: Ditto.
	
2004-11-19  Anthony Green  <green@spindazzle.org>

	* src/org/medi8/internal/core/model/AutomationTrack.java: Add bus.
	* src/org/medi8/internal/core/model/Track.java (visit): New method.
	* src/org/medi8/internal/core/model/VideoTrack.java: Move visit 
	method to Track.
	* src/org/medi8/internal/core/model/Sequence.java (visitChildren): Cast
	to Track, not VideoTrack.
	* src/org/medi8/internal/core/model/Visitor.java (visit): Change
	VideoTrack to Track.
	* src/org/medi8/internal/core/Medi8Editor.java (createFigure): Add
	Master Bus automation track.

2004-11-16  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/ui/figure/MarkerFigure.java (time): Now
	protected.
	* src/org/medi8/internal/core/ui/figure/ConflictMarkerFigure.java: New file.
	* src/org/medi8/internal/core/ui/figure/SequenceFigure.java (computeChildren):
	Use ConflictMarkerFigure.

2004-11-16  Anthony Green  <green@spindazzle.org>

	* src/org/medi8/internal/core/ui/AudioBusView.java: Rename from 
	AudioEffectView.java.
	* src/org/medi8/internal/core/ui/AudioEffectView.java: Renamed
	to AudioBusView.java.
	* src/org/medi8/internal/core/model/audio/RangeControl.java (setValue): 
	New file.
	* src/org/medi8/internal/core/model/audio/GainAndBalance.java: New file.
	* src/org/medi8/internal/core/model/audio/Control.java: New file.
	* src/org/medi8/internal/core/model/audio/BoundedRangeControl.java: 
	New file.
	* src/org/medi8/internal/core/model/audio/AudioEffect.java: New file.
	* src/org/medi8/internal/core/model/audio/AudioBus.java: New file.

2004-11-15  Anthony Green  <green@spindazzle.org>

	* HACKING: Add jack and liblo dependency information.  Add a note
	about starting the jack server.

2004-11-13  Anthony Green  <green@spindazzle.org>

	* src/org/medi8/core/preferences/AudioPreferencePage.java 
	(createFieldEditors): Remove debugging code.
	* src/org/medi8/core/CorePlugin.java (propertyChange): Removed some 
	debugging code.
	(propertyChange): Construct new style port setting OSC messages.
	
2004-11-13  Anthony Green  <green@spindazzle.org>

	* src/org/medi8/core/preferences/AudioPreferencePage.java (initializeDefaults): 
	Use OSC message names for preference names (see property change listener
	in CorePlugin.start()).
	* src/org/medi8/core/file/AudioServer.java (send): New method.
	(start): New method.
	(stop): New method.
	(outPort): New static. 
	* src/org/medi8/core/CorePlugin.java (start): New method.
	(stop): New method.
	* javaosc.jar: New file.
	* plugin.xml: Use javaosc.jar.

2004-11-13  Tom Tromey  <tromey@redhat.com>

	* themes/default/knob48/.xvpics: Removed.

	* src/org/medi8/internal/core/ui/Medi8Layout.java (Medi8Layout): Added scale
	argument.
	(scale): New field.
	(layout): Handle marker figures.
	* src/org/medi8/internal/core/ui/figure/SequenceFigure.java (computeChildren):
	Create new MarkerFigures.
	(SequenceFigure): Updated.
	* src/org/medi8/internal/core/model/events/MarkerChangeEvent.java: New file.
	* src/org/medi8/internal/core/ui/figure/MarkerFigure.java (getTrack): New
	method.
	(MarkerFigure): Set default image.
	(pd): New field.
	(getDefaultImage): New method.
	(getTime): New method.
	* src/org/medi8/internal/core/model/Sequence.java (Edge): New class.
	(EdgeIterator): Likewise.
	(searchForConflicts): New method.
	(updateActive): Likewise.
	(updateOneEdge): Likewise.
	(findMinimum): Likewise.
	(updateSize): Call searchForConflicts.
	(markers): New field.
	(getMarkerIterator): New method.
	(ConflictMarker): New class.
	* error.png: New file.
	* src/org/medi8/internal/core/ui/figure/TrackFigure.java (msg): Removed.
	(layout): Removed unused variables.
	(computeChildren): Don't use aspect ratio when computing width.

	* src/org/medi8/internal/core/ui/figure/TrackFigure.java (computeChildren):
	Handle dead clips.
	* src/org/medi8/core/file/Medi8XMLParser.java (endElement): Handle
	dead clips.
	* src/org/medi8/core/file/XMLGeneratingVisitor.java (visit): New
	overload.
	* src/org/medi8/internal/core/model/Visitor.java (visit): New overload.
	* src/org/medi8/internal/core/model/DeadClip.java: New file.

2004-11-12  Anthony Green  <green@spindazzle.org>

	* src/org/medi8/internal/core/ui/ComboFieldEditor.java: New file.
	* src/org/medi8/internal/core/ui/AudioEffectsView.java (createPartControl):
	Add placeholders for volume and balance.
	* src/org/medi8/core/file/AudioServer.java (start): New method.
	(stop): Make static.
	(AudioServer): Reformat.
	* src/org/medi8/core/preferences/AudioPreferencePage.java: New file.
	* src/org/medi8/core/preferences/PrimaryPreferencePage.java: New file. 
	* plugin.xml: Add preferences pages.

2004-11-11  Anthony Green  <green@spindazzle.org>

	* src/org/medi8/core/file/AudioServer.java: New file.
	* src/org/medi8/core/file/VideoServer.java: Delete unused static server_name.
	* src/org/medi8/core/Medi8Perspective.java (createInitialLayout): Add
	audio effects view in a folder.
	* src/org/medi8/internal/core/ui/AudioEffectsView.java: New file.
	* src/org/medi8/internal/core/ui/widget/KnobWidget.java: New file.
	* plugin.xml: Add audio effects view.
	Rename "Audio Effects" to "Audio".

2004-11-10  Anthony Green  <green@spindazzle.org>

	* src/org/medi8/internal/core/ui/widget/gtk/MonitorWidget.java (controlResized): 
	Add control listener for resizing.  Nothing is done yet.
	* src/org/medi8/core/file/VideoServer.java (VideoServer): invoke m8vplay
	with size info.
	 (VideoServer): exec the video server through "sh" in order to populate the
	 environment. 

2004-11-09  Anthony Green  <green@spindazzle.org>

	* src/org/medi8/core/file/MLTClipFactory.java (createThumbnail): Read 
	PPM data from the consumer_thumb and take a first crack at compositing
	it into the brick. 

2004-11-09  Tom Tromey  <tromey@redhat.com>

	* HACKING: Updated.
	* eclipse-gnu.xml: New file.

	* src/org/medi8/core/file/OpenVIPClipFactory.java: Removed.
	* src/org/medi8/core/file/OpenVIPNetworkVisitor.java: Likewise.

2004-11-08  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/ui/figure/TrackFigure.java (TrackFigure):
	Set height.
	(calculatePreferredSize): Use CLIP_HEIGHT constant.
	(layout): Likewise. 

	* src/org/medi8/internal/core/Medi8Editor.java: Cleaned imports.

2004-11-07  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/ui/figure/SequenceFigure.java: Cleaned
	imports.

2004-11-07  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/Medi8Editor.java (run): Create command and
	run it.
	* src/org/medi8/internal/core/ui/figure/TrackFigure.java (mousePressed):
	Updated.
	* src/org/medi8/internal/core/ui/figure/SequenceFigure.java (cursorTrack):
	New field.
	(setCursorLocation): Added track argument.
	(computeChildren): New method. 

2004-11-07  Tom Tromey  <tromey@redhat.com>

	GUI support for Paste command:
	* src/org/medi8/internal/core/Medi8Editor.java (createActions): Added
	Paste action.
	(notifyCursorChange):New method. 
	* src/org/medi8/internal/core/ui/figure/SequenceFigure.java (getCursorTime):
	New method.
	(setCursorLocation): Notify editor when cursor changes.

2004-11-07  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/internal/core/ui/figure/TrackFigure.java (mousePressed):
	Set cursor if no clip found.
	* src/org/medi8/internal/core/ui/figure/SequenceFigure.java (cursorLine):
	New field.
	(setCursorLocation):New method.
	(SequenceFigure): Initialize new field.
	(computeChildren): Ensure cursor is on top.
	* src/org/medi8/internal/core/ui/Medi8Layout.java (calculatePreferredSize):
	Ignore Polyline.
	(layout): Handle cursor line.

2004-11-07  Tom Tromey  <tromey@redhat.com>

	* src/org/medi8/core/file/XMLGeneratingVisitor.java: Documented.
	* src/org/medi8/core/file/Medi8XMLParser.java: Documented.
